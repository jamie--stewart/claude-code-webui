{"id":"claude-code-webui-039","title":"Fix auto compact - context overflow breaks conversation","description":"When the conversation runs out of context, it breaks because the webui doesn't handle auto compact.\n\n## Problem\nThe Claude Code CLI usually handles auto compact automatically, but when running through the webui, context overflow breaks the conversation.\n\n## Expected Behavior\nThe webui should handle context compaction gracefully, either by:\n- Triggering auto-compact when approaching context limits\n- Displaying a warning when context is getting full\n- Gracefully handling the compact event from the SDK\n\n## Reference\nGitHub issue: sugyan/claude-code-webui#228","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T12:03:46.282419896Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T18:37:01.253873096Z","closed_at":"2026-01-05T18:37:01.253873096Z","close_reason":"Fixed in PR #6"}
{"id":"claude-code-webui-04g","title":"Consolidate permission handling (3 separate hook systems)","description":"Three separate permission systems exist: usePermissions, usePermissionMode, usePermissionHandlers. These should be consolidated into a unified permission system with mode selector for cleaner architecture.\n\n## Current Architecture Analysis\n\n### Existing Hooks\n\n**1. usePermissions** (`frontend/src/hooks/chat/usePermissions.ts`)\n- Manages: allowedTools, permissionRequest, planModeRequest, isPermissionMode, askUserQuestionQueue\n- 170+ lines of interconnected logic\n- Does too much: tool management + UI visibility + 3 dialog types + queue logic\n\n**2. usePermissionMode** (`frontend/src/hooks/chat/usePermissionMode.ts`)\n- Simple state: permissionMode ('default' | 'plan' | 'acceptEdits' | 'bypassPermissions')\n- Provides: isPlanMode, isDefaultMode, etc. helpers\n- No persistence (resets on reload)\n\n**3. usePermissionHandlers** (`frontend/src/hooks/chat/usePermissionHandlers.ts`)\n- Orchestrates 15+ event handlers\n- Takes 20+ props connecting other hooks\n- Outputs: permissionData, planPermissionData, askUserQuestionData\n\n**4. usePlanApproval** - Only test file exists, never implemented\n\n### Architectural Problems\n\n1. **Triple Permission Mode Management**\n   - `permissionMode` (high-level execution mode)\n   - `isPermissionMode` (UI visibility boolean)\n   - Which dialog to show (permission/plan/question)?\n\n2. **Cascading Prop Threading**\n   - ChatPage passes 20+ props through hooks\n   - 3 data objects to ChatInput\n   - Hard to trace data flow\n\n3. **Inconsistent Patterns**\n   - permissionRequest/planModeRequest use isOpen flag\n   - askUserQuestionQueue uses array presence\n\n## Proposed Unified Architecture\n\n### New Hook: useUnifiedPermissions\n\n```typescript\ninterface PermissionState {\n  // Execution mode preference\n  executionMode: PermissionMode\n  \n  // UI visibility and type\n  activeDialog: 'none' | 'tool_permission' | 'plan_approval' | 'ask_question'\n  \n  // Current request (union type)\n  currentRequest: \n    | { type: 'tool_permission', toolName: string, patterns: string[], toolUseId: string }\n    | { type: 'plan_approval', planContent: string }\n    | { type: 'ask_question', questions: AskUserQuestion[], toolUseId: string }\n    | null\n    \n  // Pending queue\n  pendingQuestions: Array\u003c{ questions: AskUserQuestion[], toolUseId: string }\u003e\n  \n  // Tool allowances\n  allowedTools: string[]\n}\n\ninterface PermissionActions {\n  setExecutionMode(mode: PermissionMode): void\n  showToolPermission(toolName: string, patterns: string[], toolUseId: string): void\n  showPlanApproval(planContent: string): void\n  showAskQuestion(questions: AskUserQuestion[], toolUseId: string): void\n  closeCurrentRequest(): void\n  allowToolTemporary(pattern: string): void\n  allowToolPermanent(pattern: string): void\n  getPermissionHandlers(): PermissionHandlers\n}\n```\n\n## Implementation Steps\n\n### Phase 1: Create New Hook\n1. Create `frontend/src/hooks/chat/useUnifiedPermissions.ts`\n2. Implement state machine with union types\n3. Write comprehensive tests\n\n### Phase 2: Update ChatPage\n1. Replace 3 hook calls with single `useUnifiedPermissions`\n2. Simplify prop passing to ChatInput\n\n### Phase 3: Update Components\n1. Simplify ChatInput props (1 object instead of 3)\n2. Update PermissionInputPanel, PlanPermissionInputPanel, AskUserQuestionPanel\n3. Update DemoPage integration\n\n### Phase 4: Cleanup\n1. Deprecate usePermissions, usePermissionMode, usePermissionHandlers\n2. Update useDemoAutomation\n\n## Files to Modify\n\n**Core (5 files):**\n- `frontend/src/hooks/chat/usePermissions.ts` - REFACTOR → useUnifiedPermissions\n- `frontend/src/hooks/chat/usePermissionMode.ts` - INTEGRATE\n- `frontend/src/hooks/chat/usePermissionHandlers.ts` - REFACTOR\n- `frontend/src/hooks/chat/usePlanApproval.ts` - CREATE or consolidate\n- `frontend/src/hooks/chat/usePlanApproval.test.ts` - UPDATE\n\n**Integration (2 files):**\n- `frontend/src/components/ChatPage.tsx` - SIMPLIFY hooks usage\n- `frontend/src/components/DemoPage.tsx` - SIMPLIFY hooks usage\n\n**Components (4 files):**\n- `frontend/src/components/chat/ChatInput.tsx` - SIMPLIFY props\n- `frontend/src/components/chat/PermissionInputPanel.tsx`\n- `frontend/src/components/chat/PlanPermissionInputPanel.tsx`\n- `frontend/src/components/chat/AskUserQuestionPanel.tsx`\n\n**Helpers (2 files):**\n- `frontend/src/hooks/useDemoAutomation.ts`\n- `frontend/src/components/chat/DemoPermissionInputWrapper.tsx`\n\n**Tests (3 files):**\n- `frontend/src/hooks/chat/usePermissions.test.ts` - REWRITE\n- `frontend/src/hooks/chat/usePermissionMode.test.ts` - INTEGRATE\n- `frontend/src/hooks/chat/usePlanApproval.test.ts` - USE for new hook\n\n## Benefits\n- Single source of truth for all permission state\n- Union types prevent invalid state combinations\n- Reduced prop drilling (1 hook instead of 3)\n- Easier testing (state machine is testable as unit)\n- Clear separation of mode vs dialog management","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T07:49:46.320831Z","created_by":"jamiestewart","updated_at":"2026-01-07T16:22:58.498913627Z"}
{"id":"claude-code-webui-11k","title":"Extract MessageComponents.tsx into separate component files","description":"Extract MessageComponents.tsx (476 lines) into separate component files in the messages/ directory.\n\n## Current State\n**File:** `frontend/src/components/MessageComponents.tsx`\n**Total Lines:** 476\n**Contains:** 9 exported components + 1 utility function\n\n## Component Inventory\n\n| Component | Lines | Complexity |\n|-----------|-------|------------|\n| ChatMessageComponent | 70 | High (code block parsing) |\n| SystemMessageComponent | 95 | High (type detection, detail generation) |\n| TodoMessageComponent | 78 | Medium (status mapping) |\n| AskUserQuestionMessageComponent | 51 | Low |\n| PlanMessageComponent | 31 | Low |\n| ThinkingMessageComponent | 15 | Low |\n| LoadingComponent | 16 | Low |\n| ToolMessageComponent | 14 | Low |\n| ToolResultMessageComponent | 11 | Low |\n| isHooksMessage (utility) | 9 | - |\n\n## Target File Structure\n\n```\nfrontend/src/components/\n├── messages/\n│   ├── (existing) CodeBlock.tsx\n│   ├── (existing) CollapsibleDetails.tsx\n│   ├── (existing) CopyButton.tsx\n│   ├── (existing) MessageContainer.tsx\n│   ├── (existing) ToolResultDisplay.tsx\n│   ├── ChatMessage.tsx (NEW)\n│   ├── SystemMessage.tsx (NEW)\n│   ├── ToolMessage.tsx (NEW)\n│   ├── ToolResult.tsx (NEW)\n│   ├── PlanMessage.tsx (NEW)\n│   ├── ThinkingMessage.tsx (NEW)\n│   ├── TodoMessage.tsx (NEW)\n│   ├── AskUserQuestion.tsx (NEW)\n│   ├── LoadingMessage.tsx (NEW)\n│   └── index.ts (barrel export)\n\nfrontend/src/utils/\n├── messageUtils.ts (NEW - shared utilities)\n```\n\n## Shared Utilities to Create\n\nCreate `frontend/src/utils/messageUtils.ts`:\n```typescript\n// ANSI escape sequence utilities\nexport const ANSI_REGEX = ...;\nexport function cleanANSIEscapeSequences(text: string): string;\n\n// Type guards\nexport function isHooksMessage(msg: SystemMessage): msg is HooksMessage;\nexport function isContextOverflowMessage(msg: SystemMessage): boolean;\nexport function isInitMessage(msg: SystemMessage): boolean;\n\n// Color schemes for collapsible messages\nexport const MESSAGE_COLOR_SCHEMES = {\n  system: { header, content, border, bg },\n  overflow: { header, content, border, bg },\n  thinking: { header, content, border, bg },\n};\n\n// Todo status mappings\nexport const TODO_STATUS_ICONS = { completed, in_progress, pending };\nexport const TODO_STATUS_COLORS = { completed, in_progress, pending };\n```\n\n## Extraction Order (Dependencies First)\n\n### Phase 1: Create Shared Utilities\n1. Create `frontend/src/utils/messageUtils.ts` with shared utilities\n2. Create empty `frontend/src/components/messages/index.ts`\n\n### Phase 2: Extract Small Components (Minimal Dependencies)\n3. `LoadingComponent` → `messages/LoadingMessage.tsx`\n4. `ToolMessageComponent` → `messages/ToolMessage.tsx`\n5. `ThinkingMessageComponent` → `messages/ThinkingMessage.tsx`\n\n### Phase 3: Extract Medium Components\n6. `PlanMessageComponent` → `messages/PlanMessage.tsx`\n7. `AskUserQuestionMessageComponent` → `messages/AskUserQuestion.tsx`\n8. `ToolResultMessageComponent` → `messages/ToolResult.tsx`\n\n### Phase 4: Extract Complex Components\n9. `TodoMessageComponent` → `messages/TodoMessage.tsx`\n10. `ChatMessageComponent` → `messages/ChatMessage.tsx`\n11. `SystemMessageComponent` → `messages/SystemMessage.tsx`\n\n### Phase 5: Update Imports\n12. Update `messages/index.ts` barrel export\n13. Update `chat/ChatMessages.tsx` to import from `../messages`\n14. Delete `MessageComponents.tsx`\n\n## Import Change\n\n**Before:**\n```typescript\n// ChatMessages.tsx\nimport { ChatMessageComponent, ... } from \"../MessageComponents\";\n```\n\n**After:**\n```typescript\n// ChatMessages.tsx\nimport { ChatMessageComponent, ... } from \"../messages\";\n```\n\n## Files to Create (12 total)\n1. `frontend/src/utils/messageUtils.ts`\n2. `frontend/src/components/messages/ChatMessage.tsx`\n3. `frontend/src/components/messages/SystemMessage.tsx`\n4. `frontend/src/components/messages/ToolMessage.tsx`\n5. `frontend/src/components/messages/ToolResult.tsx`\n6. `frontend/src/components/messages/PlanMessage.tsx`\n7. `frontend/src/components/messages/ThinkingMessage.tsx`\n8. `frontend/src/components/messages/TodoMessage.tsx`\n9. `frontend/src/components/messages/AskUserQuestion.tsx`\n10. `frontend/src/components/messages/LoadingMessage.tsx`\n11. `frontend/src/components/messages/index.ts`\n\n## Files to Delete\n1. `frontend/src/components/MessageComponents.tsx`\n\n## Files to Update\n1. `frontend/src/components/chat/ChatMessages.tsx` - Update imports\n\n## Benefits\n- Single Responsibility: Each file handles one component\n- Easier maintenance and testing\n- Faster IDE performance\n- Clear dependency boundaries\n- Reusable utility functions\n\n## Risk Assessment\n- **Risk Level:** Low (mechanical refactoring)\n- **Breaking Changes:** None (barrel export maintains API)\n- **Testing:** Existing tests should pass unchanged","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T07:49:46.878942Z","created_by":"jamiestewart","updated_at":"2026-01-07T16:23:00.549040227Z"}
{"id":"claude-code-webui-1ye","title":"Move AskUserQuestion types to shared package","description":"PR #3 review suggested moving AskUserQuestion types from inline definitions to the shared types package for backend/frontend consistency.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T16:08:00.277620511Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T15:56:41.112228721Z","closed_at":"2026-01-07T15:56:41.112228721Z","close_reason":"Completed in commit 1b7cbf6 on branch feature/move-askuserquestion-types-to-shared"}
{"id":"claude-code-webui-2ws","title":"Add E2E tests for chat message flow","description":"E2E tests for: sending messages, receiving streaming responses, permission dialogs during execution, tool execution flow, session continuity across messages. Extend existing Playwright setup.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T07:49:39.729402Z","created_by":"jamiestewart","updated_at":"2026-01-02T10:24:56.10212434Z","closed_at":"2026-01-02T10:24:56.10212434Z","close_reason":"E2E tests added and passing (53 tests pass, 6 marked fixme for streaming mock)"}
{"id":"claude-code-webui-3ei","title":"Add E2E tests for error scenarios and edge cases","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:43.406802Z","created_by":"jamiestewart","updated_at":"2026-01-07T15:51:15.525452619Z","closed_at":"2026-01-07T14:04:34.849431862Z"}
{"id":"claude-code-webui-3tk","title":"Add copy-to-clipboard for messages","description":"Add copy-to-clipboard functionality to chat messages for easy content reuse.\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/25\n\n**Implementation:**\n- Hover-triggered copy button on message bubbles\n- Position in top-right corner of message\n- Use clipboard icon from Heroicons (already installed)\n- Show brief 'Copied!' feedback toast\n- Fallback for older browsers without Clipboard API\n\n**Accessibility:** ARIA labels, keyboard navigation, screen reader support","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T11:11:53.407072417Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T16:13:47.394238523Z","closed_at":"2026-01-07T16:13:47.394238523Z","close_reason":"Already implemented - CopyButton component integrated into messages"}
{"id":"claude-code-webui-41u","title":"Add E2E accessibility tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:43.879924Z","created_by":"jamiestewart","updated_at":"2026-01-07T15:51:15.526786868Z","closed_at":"2026-01-07T14:04:34.854746363Z"}
{"id":"claude-code-webui-4o5","title":"Add completions support (slash commands and @ mentions)","description":"Add support for completions like the terminal UI - typing `/` shows commands, `@` shows files/agents.\n\n## Problem\nThe terminal UI allows typing `/` to see commands and `@` to mention files or agents. This is a major UX win that's missing from the webui.\n\n## SDK Analysis\nThe Claude Code SDK **already provides slash_commands** in the system initialization message:\n```typescript\n// From sdk.d.ts SDKSystemMessage\nslash_commands: string[];  // Available from SDK!\n```\nThis data is currently **not being extracted or used** by the Web UI.\n\n## Implementation Plan\n\n### Phase 1: Extract and Store Completions Data\n**Files to modify:**\n- `shared/types.ts` - Add CompletionContext types\n- `frontend/src/hooks/chat/useChatState.ts` - Store slash_commands, tools, mcp_servers\n- `frontend/src/hooks/useMessageConverter.ts` - Extract slash_commands from system message\n\n### Phase 2: Frontend Completions UI\n**New files to create:**\n- `frontend/src/components/chat/CompletionDropdown.tsx` - Floating dropdown component\n- `frontend/src/hooks/chat/useCompletions.ts` - Monitor input for `/` and `@` triggers\n- `frontend/src/utils/completionUtils.ts` - Parse input, filter completions, handle insertion\n\n**Files to modify:**\n- `frontend/src/components/chat/ChatInput.tsx` - Integrate dropdown, track caret position\n- `frontend/src/components/ChatPage.tsx` - Extract and pass slash_commands to ChatInput\n\n### Phase 3: Backend Endpoint (Optional Enhancement)\n**New endpoint:** `POST /api/completions` for server-side filtering\n\n## Component Structure\n```\n\u003cChatInput\u003e\n  \u003ctextarea /\u003e\n  \u003cCompletionDropdown\u003e\n    \u003cCompletionItem /\u003e (for each suggestion)\n  \u003c/CompletionDropdown\u003e\n\u003c/ChatInput\u003e\n```\n\n## Key Implementation Steps\n1. Extract `slash_commands`, `tools`, `mcp_servers` from system message\n2. Create `useCompletions` hook to manage trigger detection and filtering\n3. Position dropdown based on textarea caret location\n4. Handle keyboard navigation (ArrowUp/Down, Enter, Escape)\n5. Replace text from trigger character to cursor on selection\n\n## Technical Considerations\n- Use `textarea-caret-position` or manual calculation for dropdown positioning\n- Debounce completion filtering for performance\n- Handle IME composition state (already tracked in ChatInput)\n- No SDK changes needed - all frontend logic\n\n## Testing Requirements\n- `useCompletions.test.ts` - Hook filtering and state logic\n- `CompletionDropdown.test.tsx` - Rendering and interaction\n- `completionUtils.test.ts` - Position calculations and text manipulation\n\n## Reference\nGitHub issue: sugyan/claude-code-webui#224","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T12:03:51.459265204Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T16:22:52.257812064Z"}
{"id":"claude-code-webui-5m3","title":"Add code block syntax highlighting","description":"Integrate syntax highlighting for code blocks in chat messages using highlight.js (already in dependencies).\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/246\n\n**Scope:**\n- Apply highlighting to code blocks in assistant messages\n- Auto-detect languages or use explicit hints from markdown fences\n- Support TypeScript, JavaScript, Python, Bash, JSON, HTML, CSS\n- Integrate with light/dark theme system\n\n**Files to modify:**\n- frontend/src/components/MessageComponents.tsx\n- New: frontend/src/utils/codeHighlighting.ts\n- New: frontend/src/components/messages/CodeBlock.tsx\n\n**Sub-issue of:** #10 (Slack-like chat experience)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T11:09:28.842124153Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T18:42:08.85125785Z","closed_at":"2026-01-05T18:42:08.85125785Z","close_reason":"Fixed in PR #7"}
{"id":"claude-code-webui-5u2","title":"Enhance tool result message formatting","description":"Improve the display of tool execution results with better structure, status indicators, and content-specific formatting.\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/245\n\n**Enhancements:**\n- Status indicators (✅ success, ⚠️ warning, ❌ error)\n- Tool-specific formatting:\n  - File operations: syntax highlighting, diff display\n  - Bash commands: terminal-style formatting\n  - Search operations: structured result lists\n- Metadata display (duration, file count, line count)\n- Smart truncation for large outputs\n\n**Sub-issue of:** #10 (Slack-like chat experience)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T11:11:48.17608631Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T15:51:15.527641617Z","closed_at":"2026-01-07T14:04:34.858854781Z","dependencies":[{"issue_id":"claude-code-webui-5u2","depends_on_id":"claude-code-webui-5m3","type":"blocks","created_at":"2026-01-05T11:12:21.493211677Z","created_by":"unknown"}]}
{"id":"claude-code-webui-601","title":"Add E2E tests for conversation history loading","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T07:49:42.875618Z","created_by":"jamiestewart","updated_at":"2026-01-02T10:24:56.117917775Z","closed_at":"2026-01-02T10:24:56.117917775Z","close_reason":"E2E tests added and passing (53 tests pass, 6 marked fixme for streaming mock)"}
{"id":"claude-code-webui-6xv","title":"Add unit tests for untested backend handlers (abort, projects, histories, conversations)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:44.376671Z","created_by":"jamiestewart","updated_at":"2026-01-05T11:43:34.51673704Z","closed_at":"2026-01-05T11:43:34.51673704Z","close_reason":"Fixed with PR #4 - Added unit tests for all backend handlers"}
{"id":"claude-code-webui-7y2","title":"Enhance mobile responsive design","description":"Improve the mobile responsive design for better usability on phones and tablets.\n\n## Current State Analysis\n- **Only one breakpoint used:** `sm:` (640px) across entire app\n- **No touch event handlers** anywhere in codebase\n- **Viewport restricts zoom:** `user-scalable=no` in index.html (accessibility issue)\n- **Missing breakpoints:** No `xs:`, `md:`, `lg:`, `xl:` usage\n\n## Critical Issues (Priority Order)\n\n### Priority 1: Foundation\n1. **index.html** - Change `user-scalable=no` to `user-scalable=yes` for accessibility\n2. Add responsive breakpoints throughout: `xs:` (320px), `sm:` (640px), `md:` (768px)\n\n### Priority 2: Chat Input Area (Critical)\n**File:** `frontend/src/components/chat/ChatInput.tsx`\n\nIssues:\n- Buttons positioned absolutely with no mobile consideration\n- `pr-20` padding excessive on mobile\n- No mobile-optimized button layout\n\nFixes:\n```tsx\n// Buttons: stack on mobile, row on desktop\nclassName=\"flex flex-col-reverse gap-2 sm:flex-row sm:absolute sm:right-2 sm:bottom-3\"\n// Textarea padding\nclassName=\"pr-4 sm:pr-20\"\n```\n\n### Priority 3: Message Display\n**File:** `frontend/src/components/messages/MessageContainer.tsx`\n\nIssues:\n- `max-w-[85%] sm:max-w-[70%]` leaves only 15% margin on mobile\n\nFixes:\n```tsx\nclassName=\"max-w-[95%] xs:max-w-[90%] sm:max-w-[75%] md:max-w-[70%] px-3 sm:px-4 py-2 sm:py-3\"\n```\n\n### Priority 4: Project Selection\n**File:** `frontend/src/components/ProjectSelector.tsx`\n\nIssues:\n- Touch targets too small (need 44x44px minimum)\n- Text sizing doesn't scale\n\nFixes:\n```tsx\nclassName=\"p-3 sm:p-4 md:p-6 min-h-[44px]\"\nclassName=\"text-xs sm:text-sm\"\n```\n\n### Priority 5: Settings Modal\n**File:** `frontend/src/components/SettingsModal.tsx`\n\nIssues:\n- `p-6` excessive on 320px screens\n- No height adjustment for small screens\n\nFixes:\n```tsx\nclassName=\"p-4 sm:p-6 max-h-[95vh] sm:max-h-[90vh]\"\nclassName=\"text-lg sm:text-xl\"\n```\n\n### Priority 6: Code/Tool Results Display\n**Files:** `frontend/src/components/messages/ToolResultDisplay.tsx`, `CodeBlock.tsx`\n\nIssues:\n- No horizontal scroll indicator for code blocks\n- Padding doesn't scale\n\nFixes:\n```tsx\nclassName=\"p-2 xs:p-3 sm:p-4 text-xs sm:text-sm\"\n// Add scroll indicator for long content\n```\n\n### Priority 7: Header Navigation\n**File:** `frontend/src/components/chat/ChatHeader.tsx`\n\nIssues:\n- `text-lg sm:text-3xl` is too aggressive a jump\n- Back button icons too small for touch (w-5 h-5)\n\nFixes:\n```tsx\nclassName=\"text-base sm:text-lg md:text-2xl\"\n// Ensure 44x44px minimum touch targets\nclassName=\"p-2 min-h-[44px] min-w-[44px]\"\n```\n\n## Files to Modify (11 total)\n1. `frontend/index.html` - viewport meta\n2. `frontend/src/components/chat/ChatInput.tsx`\n3. `frontend/src/components/messages/MessageContainer.tsx`\n4. `frontend/src/components/ProjectSelector.tsx`\n5. `frontend/src/components/SettingsModal.tsx`\n6. `frontend/src/components/messages/ToolResultDisplay.tsx`\n7. `frontend/src/components/messages/CodeBlock.tsx`\n8. `frontend/src/components/chat/ChatHeader.tsx`\n9. `frontend/src/components/chat/PermissionInputPanel.tsx`\n10. `frontend/src/components/chat/AskUserQuestionPanel.tsx`\n11. `frontend/src/components/chat/ChatMessages.tsx`\n\n## Testing Breakpoints\n- 320px (small phones)\n- 375px (iPhone SE/standard)\n- 768px (tablets)\n- 1024px (desktop)\n\n## Reference\nGitHub issue: sugyan/claude-code-webui#26","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T12:03:56.696742887Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T16:22:54.384091049Z"}
{"id":"claude-code-webui-8cf","title":"Add E2E tests for project selection and switching","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T07:49:42.334367Z","created_by":"jamiestewart","updated_at":"2026-01-02T10:24:56.11520018Z","closed_at":"2026-01-02T10:24:56.11520018Z","close_reason":"E2E tests added and passing (53 tests pass, 6 marked fixme for streaming mock)"}
{"id":"claude-code-webui-8le","title":"Fix AskUserQuestion interaction not rendering","description":"When Claude triggers an AskUserQuestion interaction, the permission prompt appears but the actual question/options don't render in the WebUI. This causes the conversation to get stuck in a loop.\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/352\n\n**Steps to reproduce:**\n1. Trigger a plan that causes Claude to use AskUserQuestion\n2. Give permission when prompted\n3. Observe that the question options don't appear\n\n**Expected:** Question options should render and allow user selection.\n\n**Workaround:** Currently requires using CLI with `claude --continue` to recover.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T11:09:23.577690891Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T11:39:09.912207993Z","closed_at":"2026-01-05T11:39:09.912207993Z","close_reason":"Fixed with PR #3 - Added AskUserQuestion interaction support"}
{"id":"claude-code-webui-8rp","title":"Fix AskUserQuestion answer format to match SDK expectations","description":"PR #3 review identified that the answer format may not match SDK expectations. Currently submitting JSON.stringify(answers) but SDK may expect a specific format tied to toolUseId.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T16:07:39.385508226Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T16:21:32.81350211Z","closed_at":"2026-01-05T16:21:32.81350211Z","close_reason":"Fixed in PR #3 updates - implemented proper SDK tool_result format with toolUseId"}
{"id":"claude-code-webui-9dq","title":"Add tests for CLI path detection and validation logic","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T07:49:48.573378Z","created_by":"jamiestewart","updated_at":"2026-01-07T16:11:22.307976642Z","closed_at":"2026-01-07T16:11:22.307976642Z","close_reason":"Merged to main"}
{"id":"claude-code-webui-d7t","title":"Add frontend error logging (currently silent)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T07:49:48.025303Z","created_by":"jamiestewart","updated_at":"2026-01-07T16:11:22.310061495Z","closed_at":"2026-01-07T16:11:22.310061495Z","close_reason":"Merged to main"}
{"id":"claude-code-webui-edq","title":"Fix AskUserQuestion cancel behavior","description":"PR #3 review identified that cancel sends 'User cancelled the question.' as a message which may confuse Claude. Need to investigate proper cancellation protocol via SDK.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T16:07:49.77992317Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T16:21:32.817753168Z","closed_at":"2026-01-05T16:21:32.817753168Z","close_reason":"Fixed in PR #3 updates - implemented proper SDK tool_result format with toolUseId"}
{"id":"claude-code-webui-gbf","title":"Consolidate duplicate message processing logic","description":"Both messageConversion.ts and UnifiedMessageProcessor.ts have similar conversion logic. Extract to shared utilities to eliminate duplication.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T07:49:49.197447Z","created_by":"jamiestewart","updated_at":"2026-01-07T15:51:15.528474867Z","closed_at":"2026-01-07T14:41:51.979054635Z"}
{"id":"claude-code-webui-h7n","title":"Add configurable keyboard shortcuts system","description":"Implement a configurable keyboard shortcuts system for power users.\n\n## Current Shortcuts\n- Enter: Submit message (configurable via enter behavior)\n- Shift+Enter: Alternative behavior\n- Escape: Abort current request\n\n## Proposed Features\n- Configurable shortcuts in settings\n- Permission mode toggle shortcut (Ctrl+Shift+M / Cmd+Shift+M)\n- Platform-specific defaults (Ctrl vs Cmd)\n- Conflict detection and warnings\n- Help panel showing all shortcuts\n\n## Technical Requirements\n- Keyboard event handling with IME awareness\n- Settings integration with localStorage\n- Platform detection for defaults\n\n## Reference\nGitHub issue: sugyan/claude-code-webui#252","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-05T12:04:01.990756299Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T12:04:01.990756299Z"}
{"id":"claude-code-webui-hg4","title":"Add image paste support","description":"Enable pasting images directly into the chat input for multimodal conversations.\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/155\n\n**Context:** Claude CLI supports image paste on macOS/GitBash but not Linux terminals. The WebUI can fill this gap and provide a better image input experience across all platforms.\n\n**Implementation considerations:**\n- Handle paste events in chat input\n- Convert pasted images to base64 or upload\n- Display image preview before sending\n- Support common formats (PNG, JPG, GIF)\n- Integrate with Claude SDK's image handling","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T11:11:58.558008409Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T19:03:11.641055654Z","closed_at":"2026-01-05T19:03:11.641055654Z","close_reason":"Fixed via PR #10 - added image paste support for multimodal conversations"}
{"id":"claude-code-webui-iyi","title":"Configure test coverage reporting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:45.350417Z","created_by":"jamiestewart","updated_at":"2026-01-05T11:49:38.082420853Z","closed_at":"2026-01-05T11:49:38.082420853Z","close_reason":"Closed"}
{"id":"claude-code-webui-jnv","title":"Use toolUseId when submitting AskUserQuestion responses","description":"PR #3 review identified that toolUseId is captured via showAskUserQuestion(questions, toolUseId) but not used when submitting answers. SDK interactions typically require toolUseId to correlate responses.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T16:07:44.544905219Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T16:21:32.816234573Z","closed_at":"2026-01-05T16:21:32.816234573Z","close_reason":"Fixed in PR #3 updates - implemented proper SDK tool_result format with toolUseId"}
{"id":"claude-code-webui-miq","title":"Add YOLO/bypass permissions mode toggle","description":"Add a UI toggle to enable 'dangerouslySkipPermissions' / bypass permissions mode (YOLO mode).\n\n## Context\nThe Claude Code SDK supports a `bypassPermissions` mode that skips permission prompts. Currently the frontend filters this out in `types.ts`:\n```typescript\n// Filter out bypassPermissions for UI\nreturn sdkMode === \"bypassPermissions\" ? \"default\" : sdkMode;\n```\n\n## Requirements\n- Add a toggle in settings or chat input to enable YOLO mode\n- Pass `dangerouslySkipPermissions: true` to the SDK when enabled\n- Add appropriate warning/confirmation before enabling\n- Consider session-level vs global setting\n\n## References\n- SDK permission mode: `bypassPermissions`\n- SDK option: `dangerouslySkipPermissions`","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T11:59:48.499848905Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T18:46:55.872665507Z","closed_at":"2026-01-05T18:46:55.872665507Z","close_reason":"Fixed in PR #8"}
{"id":"claude-code-webui-n42","title":"Slack-like chat experience (Epic)","description":"Umbrella issue for UI/UX enhancements to create a more polished chat experience.\n\n**GitHub Issue:** https://github.com/sugyan/claude-code-webui/issues/10\n\nThis epic encompasses several UI improvements including syntax highlighting, tool result formatting, and other enhancements to make the chat interface more professional and user-friendly.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-05T11:09:18.325017324Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-07T15:51:15.529245533Z","dependencies":[{"issue_id":"claude-code-webui-n42","depends_on_id":"claude-code-webui-5m3","type":"blocks","created_at":"2026-01-05T11:12:11.167931107Z","created_by":"unknown"},{"issue_id":"claude-code-webui-n42","depends_on_id":"claude-code-webui-5u2","type":"blocks","created_at":"2026-01-05T11:12:16.317356541Z","created_by":"unknown"}]}
{"id":"claude-code-webui-npf","title":"Add React component unit tests (0 components currently tested)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:44.864484Z","created_by":"jamiestewart","updated_at":"2026-01-02T07:49:44.864484Z","dependencies":[{"issue_id":"claude-code-webui-npf","depends_on_id":"claude-code-webui-nzy","type":"blocks","created_at":"2026-01-02T07:58:15.390319Z","created_by":"jamiestewart"},{"issue_id":"claude-code-webui-npf","depends_on_id":"claude-code-webui-11k","type":"blocks","created_at":"2026-01-02T07:58:15.437218Z","created_by":"jamiestewart"}]}
{"id":"claude-code-webui-nzy","title":"Refactor ChatPage.tsx - split into smaller components","description":"ChatPage.tsx exceeds 600+ LOC with 18+ useCallback definitions. Split into: ChatContainer (main layout), ChatMessagesPanel (message display), ChatInputSection (input + buttons), and extract state logic to dedicated hooks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:45.824478Z","created_by":"jamiestewart","updated_at":"2026-01-07T15:51:15.529860574Z","closed_at":"2026-01-07T12:16:12.165293885Z"}
{"id":"claude-code-webui-oe2","title":"Handle race condition with multiple AskUserQuestion requests","description":"PR #3 review identified potential state race condition: if Claude sends another question while user is answering the first, state could get overwritten. Consider queuing questions or blocking new questions while one is pending.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T16:07:55.02828329Z","created_by":"jamie-stewart-claudio[bot]","updated_at":"2026-01-05T18:54:47.049113775Z","closed_at":"2026-01-05T18:54:47.049113775Z","close_reason":"Fixed via PR #9 - implemented queue-based approach for AskUserQuestion requests"}
{"id":"claude-code-webui-seo","title":"Add snapshot UI testing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T17:13:57.635724Z","created_by":"jamie.stewart","updated_at":"2026-01-07T12:08:31.377551257Z","closed_at":"2026-01-07T12:08:31.377551257Z","close_reason":"Completed in PR #12 - visual snapshot tests added"}
{"id":"claude-code-webui-ued","title":"Add pre-commit checks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:37:56.543116389Z","created_by":"Claudio","updated_at":"2026-01-02T11:41:18.921393375Z","closed_at":"2026-01-02T11:41:18.921393375Z","close_reason":"Added lefthook.yml with pre-commit checks (format, lint, typecheck, test) and beads sync integration"}
{"id":"claude-code-webui-y9q","title":"Implement error boundary and structured error handling","description":"No ErrorBoundary component exists. No custom error types (ApiError, ValidationError, StreamError). No structured error responses. Implement comprehensive error handling with recovery UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:49:47.402547Z","created_by":"jamiestewart","updated_at":"2026-01-07T15:51:15.530542532Z","closed_at":"2026-01-07T12:29:25.725380815Z"}
